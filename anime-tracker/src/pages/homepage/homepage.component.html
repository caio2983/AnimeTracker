<app-header></app-header>

<app-dropdowns (filtersAlert)="setFilters($event)"></app-dropdowns>

<ng-template #dataNotFound>
  <div class="no-data">
    <p-card>Not found</p-card>
  </div>
</ng-template>

<div
  class="filterCards"
  *ngIf="noData == false; else dataNotFound"
  infiniteScroll
  (scrolled)="appendData()"
>
  <div
    *ngFor="let anime of animeData"
    [ngbTooltip]="tipContent"
    tooltipClass="my-custom-class"
    class="card-container"
  >
    <p-card [style]="{ width: '220px' }">
      <!-- Tooltip with anime info.Appears when user hovers the mouse -->
      <ng-template #tipContent tooltipClass="my-custom-class">
        <div class="teste">
          <span>{{ anime.attributes.ageRatingGuide }}</span>
          <span>{{ anime.attributes.showType }}</span>
          <span>{{ anime.attributes.averageRating }}</span>
          <span>{{ anime.attributes.totalLength }}</span>
          <span>{{ anime.attributes.status }}</span>
        </div>
      </ng-template>

      <ng-template pTemplate="header">
        <a [routerLink]="['/anime', anime.id]">
          <img
            alt="Card"
            src="{{ anime.attributes.posterImage.original }}"
            class="poster"
          />
        </a>
      </ng-template>
    </p-card>
    <div class="anime-info">
      <a [routerLink]="['/anime', anime.id]">
        <p>
          {{
            anime.attributes.titles.en
              ? anime.attributes.titles.en
              : "No title available"
          }}
        </p>
      </a>
    </div>
  </div>
</div>
